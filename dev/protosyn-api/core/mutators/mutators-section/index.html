<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Mutators Section · ProtoSyn.jl</title><script data-outdated-warner src="../../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../../assets/documenter.js"></script><script src="../../../../siteinfo.js"></script><script src="../../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../../assets/themeswap.js"></script><link href="../../../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../../"><img src="../../../../assets/logo.png" alt="ProtoSyn.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../../">ProtoSyn.jl</a></span></div><form class="docs-search" action="../../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../../../getting-started/installation/">Installation</a></li><li><a class="tocitem" href="../../../../getting-started/first-steps/">First steps</a></li><li><a class="tocitem" href="../../../../getting-started/examples/">Examples</a></li></ul></li><li><span class="tocitem">ProtoSyn API</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Core</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../types/">Types</a></li><li><input class="collapse-toggle" id="menuitem-3-1-2" type="checkbox"/><label class="tocitem" for="menuitem-3-1-2"><span class="docs-label">Methods</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../methods/graph/">Graph</a></li><li><a class="tocitem" href="../../methods/state/">State</a></li><li><a class="tocitem" href="../../methods/pose/">Pose</a></li><li><a class="tocitem" href="../../methods/io/">Input and Output (IO)</a></li><li><a class="tocitem" href="../../methods/other/">Auxiliary methods</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-1-3" type="checkbox"/><label class="tocitem" for="menuitem-3-1-3"><span class="docs-label">Calculators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../calculators/calculators-section/">Calculators Section</a></li><li><a class="tocitem" href="../../calculators/torchani/">TorchANI</a></li><li><a class="tocitem" href="../../calculators/bond-distance-restraint/">Bond distance Restraint</a></li><li><a class="tocitem" href="../../calculators/potential-restraints/">Potential Restraints</a></li><li><a class="tocitem" href="../../calculators/electrostatics/">Electrostatics</a></li><li><a class="tocitem" href="../../calculators/gb-solvation/">Generalized Born</a></li><li><a class="tocitem" href="../../calculators/sasa/">SASA</a></li><li><a class="tocitem" href="../../calculators/hydrogen-bonds/">Hydrogen Bonds</a></li><li><a class="tocitem" href="../../calculators/radius-gyration/">Radius of gyration</a></li><li><a class="tocitem" href="../../calculators/custom-ref-energy/">Custom reference energy</a></li><li><a class="tocitem" href="../../calculators/ref15/">REF-15</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-1-4" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1-4"><span class="docs-label">Mutators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Mutators Section</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Creating-custom-mutators"><span>Creating custom mutators</span></a></li><li class="toplevel"><a class="tocitem" href="#Available-mutators"><span>Available mutators</span></a></li></ul></li><li><a class="tocitem" href="../mutators-dihedral/">Dihedral Mutator</a></li><li><a class="tocitem" href="../mutators-crankshaft/">Crankshaft Mutator</a></li><li><a class="tocitem" href="../mutators-rigid-body/">Rigid Body Mutators</a></li><li><a class="tocitem" href="../mutators-backrub/">Backrub Mutators</a></li><li><a class="tocitem" href="../mutators-compound/">Compound Mutators</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-1-5" type="checkbox"/><label class="tocitem" for="menuitem-3-1-5"><span class="docs-label">Drivers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../drivers/drivers-section/">Drivers Section</a></li><li><a class="tocitem" href="../../drivers/drivers-monte-carlo/">Monte Carlo</a></li><li><a class="tocitem" href="../../drivers/drivers-steepest-descent/">Steepest Descent</a></li><li><a class="tocitem" href="../../drivers/drivers-ils/">ILS</a></li><li><a class="tocitem" href="../../drivers/drivers-compound/">Compound Driver</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-1-6" type="checkbox"/><label class="tocitem" for="menuitem-3-1-6"><span class="docs-label">Submodules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../submodules/selections/">Selections</a></li><li><a class="tocitem" href="../../submodules/builder/">Builder</a></li><li><a class="tocitem" href="../../submodules/external-packages/">External packages</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Peptides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../peptides/introduction/">Introduction</a></li><li><a class="tocitem" href="../../../peptides/types/">Types</a></li><li><input class="collapse-toggle" id="menuitem-3-2-3" type="checkbox"/><label class="tocitem" for="menuitem-3-2-3"><span class="docs-label">Methods</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../peptides/methods/io/">Input and Output (IO)</a></li><li><a class="tocitem" href="../../../peptides/methods/graph/">Graph</a></li><li><a class="tocitem" href="../../../peptides/methods/state/">State</a></li><li><a class="tocitem" href="../../../peptides/methods/pose/">Pose</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2-4" type="checkbox"/><label class="tocitem" for="menuitem-3-2-4"><span class="docs-label">Calculators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../peptides/calculators/potential-restraints/">Potential Restraints</a></li><li><a class="tocitem" href="../../../peptides/calculators/electrostatics/">Electrostatics</a></li><li><a class="tocitem" href="../../../peptides/calculators/sasa/">SASA</a></li><li><a class="tocitem" href="../../../peptides/calculators/natural-frequency/">Natural frequency</a></li><li><a class="tocitem" href="../../../peptides/calculators/ss-propensity/">Secondary structure propensity</a></li><li><a class="tocitem" href="../../../peptides/calculators/caterpillar-solvation/">Caterpilar solvation model</a></li><li><a class="tocitem" href="../../../peptides/calculators/seqdes/">SeqDes model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2-5" type="checkbox"/><label class="tocitem" for="menuitem-3-2-5"><span class="docs-label">Mutators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../peptides/mutators/rotamer/">Rotamer Mutator</a></li><li><a class="tocitem" href="../../../peptides/mutators/design/">Design Mutator</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2-6" type="checkbox"/><label class="tocitem" for="menuitem-3-2-6"><span class="docs-label">Drivers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../peptides/drivers/rotamer-blitz-driver/">Rotamer Blitz</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2-7" type="checkbox"/><label class="tocitem" for="menuitem-3-2-7"><span class="docs-label">Submodules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../peptides/submodules/selections/">Selections</a></li><li><a class="tocitem" href="../../../peptides/submodules/builder/">Builder</a></li><li><a class="tocitem" href="../../../peptides/submodules/rotamers/">Rotamers</a></li><li><a class="tocitem" href="../../../peptides/submodules/external-packages/">External packages</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Materials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../materials/introduction/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-3-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-3-2"><span class="docs-label">Methods</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../materials/methods/lattices/">Lattices</a></li><li><a class="tocitem" href="../../../materials/methods/carbons/">Carbons</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Sugars</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../sugars/introduction/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-3-4-2" type="checkbox"/><label class="tocitem" for="menuitem-3-4-2"><span class="docs-label">Submodules</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../sugars/submodules/builder/">Builder</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Common</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../common/introduction/">Introduction</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">ProtoSyn API</a></li><li><a class="is-disabled">Core</a></li><li><a class="is-disabled">Mutators</a></li><li class="is-active"><a href>Mutators Section</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Mutators Section</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/sergio-santos-group/ProtoSyn.jl/blob/master/docs/src/protosyn-api/core/mutators/mutators-section.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Mutators-section"><a class="docs-heading-anchor" href="#Mutators-section">Mutators section</a><a id="Mutators-section-1"></a><a class="docs-heading-anchor-permalink" href="#Mutators-section" title="Permalink"></a></h1><p>Each module in ProtoSyn may include a <a href="#Mutators-section">Mutators section</a>, containing types and methods allowing ProtoSyn to change a <a href="../../types/#ProtoSyn.Pose"><code>Pose</code></a> instance&#39;s from one <a href="../../types/#ProtoSyn.State"><code>State</code></a> to another. In other words, a Mutator (of type <code>AbstractMutator</code>) is responsible for implementing a given conformational change in a <a href="../../types/#ProtoSyn.Pose"><code>Pose</code></a> (for example, implementing <a href="../../methods/state/#Dihedral-rotations">Dihedral rotations</a>, among others). In the context of a simulation, this is usually refered as &quot;sampling&quot;. In the next section, a further exploration of the available <code>AbstractMutator</code> instances is provided, organized in the following sections:</p><ul><li><a href="#Creating-custom-mutators">Creating custom mutators</a></li><li><a href="#Available-mutators">Available mutators</a></li></ul><p><img src="../../../../assets/ProtoSyn-mutators.png" alt="ProtoSyn Mutators"/></p><p><strong>Figure 1 |</strong> A diagram of an example <a href="../mutators-compound/#ProtoSyn.Mutators.CompoundMutator"><code>CompoundMutator</code></a>, bringing together multiple <code>AbstractMutator</code> instances. In this example, both the <a href="../mutators-dihedral/#ProtoSyn.Mutators.DihedralMutator"><code>DihedralMutator</code></a> and the <a href="../mutators-crankshaft/#ProtoSyn.Mutators.CrankshaftMutator"><code>CrankshaftMutator</code></a> are represented. Each <code>AbstractMutator</code> can be parametrized by a collection of settings, explained in each Mutator&#39;s page in this manual. In the case of the exemplified <code>AbstractMutator</code> instances, these can receive an optional <code>selection</code> (in the example the <a href="../../submodules/selections/#ProtoSyn.FieldSelection"><code>FieldSelection</code></a> and <a href="../../submodules/selections/#ProtoSyn.UnarySelection"><code>UnarySelection</code></a> are shown).</p><h1 id="Creating-custom-mutators"><a class="docs-heading-anchor" href="#Creating-custom-mutators">Creating custom mutators</a><a id="Creating-custom-mutators-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-custom-mutators" title="Permalink"></a></h1><p>Mutators are most useful when employed in a <code>Driver</code> instance (see <a href="../../drivers/drivers-section/#Drivers-section">Drivers section</a>), who expects the following signature. Note that the Mutator instances are <code>struct</code> instances (of type <code>&lt;: AbstractMutator</code>), but are also <em>functors</em>, meaning that are callable by the encompassing <code>Driver</code>. For this call, only a <a href="../../types/#ProtoSyn.Pose"><code>Pose</code></a> <code>pose</code> instance is given as input, and all conformational changes should be in-place (no output is expected and any internal to cartesian coordinate conversion, or vice-versa, should be requested at the end of the function call). Note that, as a general rule, <code>AbstractMutator</code> instances should <a href="../../methods/state/#ProtoSyn.sync!"><code>sync!</code></a> any required internal to cartesian coordinate conversion (or vice-versa) at the start of the function call (using <a href="../../methods/state/#ProtoSyn.i2c!"><code>i2c!</code></a> or <a href="../../methods/state/#ProtoSyn.c2i!"><code>c2i!</code></a> methods). As an example, <a href="../mutators-dihedral/#ProtoSyn.Mutators.DihedralMutator"><code>DihedralMutator</code></a> syncs any pending cartesian to internal coordinate conversion before applying itself, as it will apply changes to the internal coordinates. In the same fashion, at the end of the function call, <code>AbstractMutators</code> should request any internal to cartesian coordinate conversion (or vice-versa), depending on the change performed, therefore requesting a pending <a href="../../methods/state/#ProtoSyn.sync!"><code>sync!</code></a>. However, <code>AbstractMutators</code> should not <a href="../../methods/state/#ProtoSyn.sync!"><code>sync!</code></a>, in most cases. As an example, ten sequential <a href="../mutators-dihedral/#ProtoSyn.Mutators.DihedralMutator"><code>DihedralMutator</code></a> calls do not require a <a href="../../methods/state/#ProtoSyn.sync!"><code>sync!</code></a> between each of them.</p><pre><code class="language-julia hljs">struct NewMutator &lt;: AbstractMutator
    # content
end

function (mutator::NewMutator)(pose::Pose)
    # content
end</code></pre><p>In order to be able to incorporate any new custom mutator in a <a href="../mutators-compound/#ProtoSyn.Mutators.CompoundMutator"><code>CompoundMutator</code></a>, an extra signature needs to be present, receiving a subset list of <a href="../../types/#ProtoSyn.Atom"><code>Atom</code></a> instances. In this case, the mutator should only be applied to the <a href="../../types/#ProtoSyn.Atom"><code>Atom</code></a> instances in this subset.</p><pre><code class="language-julia hljs">function (mutator::NewMutator)(pose::Pose, atoms::Vector{Atom})
    # content
end</code></pre><h1 id="Available-mutators"><a class="docs-heading-anchor" href="#Available-mutators">Available mutators</a><a id="Available-mutators-1"></a><a class="docs-heading-anchor-permalink" href="#Available-mutators" title="Permalink"></a></h1><p>Besides all the machinery to create custom mutators, ProtoSyn&#39;s <code>Core</code> module makes available some simple <code>AbstractMutator</code> instances. Since this is not a specialized module, available mutators should be indiferent to the type of molecular structure being sampled. As of ProtoSyn 1.1, the following <code>AbstractMutator</code> instances are made available from the <code>Core</code> module, and can be further explored in the respectivelly dedicated pages of this manual:</p><ul><li><a href="../mutators-dihedral/#Dihedral-Mutator">Dihedral Mutator</a></li><li><a href="../mutators-crankshaft/#Crankshaft-Mutator">Crankshaft Mutator</a></li><li><a href="../mutators-rigid-body/#Rigid-Body-Mutators">Rigid Body Mutators</a></li><li><a href="../mutators-backrub/#Backrub-Mutator">Backrub Mutator</a></li><li><a href="../mutators-compound/#Compound-Mutator">Compound Mutator</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../calculators/ref15/">« REF-15</a><a class="docs-footer-nextpage" href="../mutators-dihedral/">Dihedral Mutator »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Monday 4 July 2022 16:16">Monday 4 July 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
